% define box for subroutine
\makeatletter
\pgfdeclareshape{subroutinebox}{
	\inheritsavedanchors[from=rectangle]%
	\inheritanchorborder[from=rectangle]%
	\inheritanchor[from=rectangle]{center}%
	  \foreach \anchor in {north,north west,north east,center,west,east,mid,
		mid west,mid east,base,base west,base east,south,south west,south east}{%
		\inheritanchor[from=rectangle]{\anchor}}%
	\inheritbackgroundpath[from=rectangle]
	\foregroundpath{
		\northeast
		\pgf@xa=\pgf@x
		\pgf@ya=\pgf@y
		\southwest
		\pgf@xb=\pgf@x
		\pgf@yb=\pgf@y
		\pgfpathmoveto{\pgfpoint{\pgf@xa-4pt}{\pgf@ya}}
		\pgfpathlineto{\pgfpoint{\pgf@xa-4pt}{\pgf@yb}}
		\pgfpathmoveto{\pgfpoint{\pgf@xb+4pt}{\pgf@ya}}
		\pgfpathlineto{\pgfpoint{\pgf@xb+4pt}{\pgf@yb}}
	}
}

% define block styles
\tikzstyle{startstop} = [rectangle, draw, fill=red!25, rounded corners, minimum width=5em, text width=7em, minimum height=0.5cm, text centered]
\tikzstyle{decision} = [diamond, draw, fill=green!25, minimum width=5em, minimum height=0.5cm, text width=5em, text centered, inner sep=0pt]
\tikzstyle{process} = [rectangle, draw, fill=orange!25, minimum width=5em, minimum height=0.5cm, text width=7em, text centered]
\tikzstyle{subroutine} = [subroutinebox, draw, fill=blue!25, minimum width=5em, minimum height=0.5cm, text width=7em, text centered]
\tikzstyle{arrow} = [very thick, ->, >=stealth]